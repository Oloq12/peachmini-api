â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‰ EXPRESS Ğ¡Ğ•Ğ Ğ’Ğ•Ğ  Ğ—ĞĞŸĞ£Ğ©Ğ•Ğ Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Ğ’Ğ¡Ğ• Ğ¨ĞĞ“Ğ˜ Ğ’Ğ«ĞŸĞĞ›ĞĞ•ĞĞ«!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Ğ§Ğ¢Ğ Ğ‘Ğ«Ğ›Ğ Ğ¡Ğ”Ğ•Ğ›ĞĞĞ:

1ï¸âƒ£  Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹:
   âœ… express ^5.1.0
   âœ… compression ^1.8.1

2ï¸âƒ£  Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ñ„Ğ°Ğ¹Ğ» server.cjs:
   âœ… Express ÑĞµÑ€Ğ²ĞµÑ€ Ñ compression
   âœ… Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ Ğ´Ğ»Ñ Telegram WebView (CSP, frame-ancestors)
   âœ… X-Frame-Options ÑƒĞ´Ğ°Ğ»ĞµĞ½
   âœ… SPA fallback Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²

3ï¸âƒ£  Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ npm-ÑĞºÑ€Ğ¸Ğ¿Ñ‚:
   âœ… "serve": "node server.cjs"

4ï¸âƒ£  ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ±Ñ€Ğ°Ğ½ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½:
   âœ… npm run build - ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾
   âœ… npm run serve - Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½

5ï¸âƒ£  Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:
   âœ… HTTP Status 200
   âœ… CSP Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹
   âœ… frame-ancestors Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ñ‹ Ğ´Ğ»Ñ Telegram

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ Ğ¡ĞĞĞ‘Ğ©Ğ•ĞĞ˜Ğ• Ğ’ ĞšĞĞĞ¡ĞĞ›Ğ˜:

   ğŸš€ Peachmini static server running on http://localhost:5173

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ĞĞĞ¡Ğ¢Ğ ĞĞ•ĞĞĞ«Ğ• Ğ—ĞĞ“ĞĞ›ĞĞ’ĞšĞ˜:

Content-Security-Policy:
  â€¢ default-src: 'self' https: data: blob: 'unsafe-inline' 'unsafe-eval'
  â€¢ connect-src: *
  â€¢ frame-ancestors: 'self' https://web.telegram.org https://*.telegram.org
  â€¢ img-src: 'self' https: data: blob:
  â€¢ font-src: 'self' https: data:
  â€¢ media-src: 'self' https: blob:

X-Frame-Options: Ğ£Ğ”ĞĞ›Ğ•Ğ (Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ² Telegram)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ:

âœ… ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚: node server.cjs
âœ… HTTP Status: 200
âœ… CSP Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸: Ğ¿Ñ€Ğ¸ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚
âœ… Telegram SDK: Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½
âœ… SPA routing: Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ URL:
   â€¢ Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹: http://localhost:5173
   â€¢ ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹: https://admin.localhost.run (Ñ‡ĞµÑ€ĞµĞ· SSH tunnel)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ Ğ’ĞĞ–ĞĞ«Ğ• Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ¯:

â€¢ server.js â†’ server.cjs (Ğ¸Ğ·-Ğ·Ğ° "type": "module" Ğ² package.json)
â€¢ app.get('*', ...) â†’ app.use(fallback) (ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ Express 5)
â€¢ Ğ’ÑĞµ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ´Ğ»Ñ Telegram WebView

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”„ ĞšĞĞœĞĞĞ”Ğ«:

# ĞŸĞµÑ€ĞµÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
cd /Users/egor/Desktop/peach-mini/peach-web
npm run build && npm run serve

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞµÑ€Ğ²ĞµÑ€
pkill -f "node server.cjs"

# ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»Ğ¾Ğ³Ğ¾Ğ²
tail -f /tmp/express-final.log

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Ğ”Ğ°Ñ‚Ğ°: 11.10.2025, 03:51 AM
Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: âœ… Ğ¡Ğ•Ğ Ğ’Ğ•Ğ  Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
