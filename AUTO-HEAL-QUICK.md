# โก Auto-Heal - Quick Guide

## ๐ฏ ะงัะพ ััะพ?

ะะฒัะพะผะฐัะธัะตัะบะพะต ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต Peachmini API ะฟัะธ ัะฑะพัั.

**ะัะธะฝัะธะฟ:** API ะฒัะตะณะดะฐ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตััั ัะฐะผ, ะดะฐะถะต ะฟัะธ ัะฑะพะต.

---

## ๐ Quick Start

### ะะดะฝะพัะฐะทะพะฒะพะต ะฐะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต

```bash
npm run doctor:auto
```

**ะะตะปะฐะตั:**
1. ะัะพะฒะตััะตั `/api/health`
2. ะัะพะฒะตััะตั `/api/girls`
3. ะัะปะธ ะพัะธะฑะบะฐ โ ะฟะตัะตะทะฐะฟััะบะฐะตั ัะตัะฒะตั
4. ะัะพะฒะตััะตั ัะฝะพะฒะฐ

---

### ะะตะฟัะตััะฒะฝัะน ะผะพะฝะธัะพัะธะฝะณ

```bash
npm run doctor:monitor
```

**ะะตะปะฐะตั:**
- ะัะพะฒะตััะตั API ะบะฐะถะดัะต 30 ัะตะบัะฝะด
- ะัะธ ัะฑะพะต ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะธะฝะธั
- ะะพะบะฐะทัะฒะฐะตั ััะฐัะธััะธะบั
- Ctrl+C ะดะปั ะพััะฐะฝะพะฒะบะธ

---

## ๐ ะะพะผะฐะฝะดั

```bash
# ะัะพะฒะตัะบะฐ ะธ ะปะตัะตะฝะธะต
npm run doctor:auto

# ะะตะฟัะตััะฒะฝัะน ะผะพะฝะธัะพัะธะฝะณ
npm run doctor:monitor

# ะััะผัะต ะบะพะผะฐะฝะดั
./scripts/auto-heal.sh check      # ะัะพะฒะตัะบะฐ
./scripts/auto-heal.sh monitor    # ะะพะฝะธัะพัะธะฝะณ
./scripts/auto-heal.sh start      # ะะฐะฟัััะธัั ัะตัะฒะตั
./scripts/auto-heal.sh stop       # ะััะฐะฝะพะฒะธัั
./scripts/auto-heal.sh restart    # ะะตัะตะทะฐะฟััะบ
./scripts/auto-heal.sh help       # ะกะฟัะฐะฒะบะฐ
```

---

## โ๏ธ ะะฐัััะพะนะบะฐ

```bash
# ะะฐััะพะผะฝัะน ะธะฝัะตัะฒะฐะป (60 ัะตะบัะฝะด)
CHECK_INTERVAL=60 npm run doctor:monitor

# ะะพะปััะต ะฟะพะฟััะพะบ
MAX_RETRIES=5 npm run doctor:auto

# ะััะณะพะน URL
API_URL=http://localhost:3000 npm run doctor:auto
```

---

## ๐งช ะขะตัั

### ะกัะตะฝะฐัะธะน 1: ะัะต ัะฐะฑะพัะฐะตั

```bash
npm run doctor:auto

# Output:
โ /api/health OK
โ /api/girls OK (count: 6)
โ ะัะต ัะธััะตะผั ัะฐะฑะพัะฐัั ะฝะพัะผะฐะปัะฝะพ
```

### ะกัะตะฝะฐัะธะน 2: ะกะตัะฒะตั ัะฟะฐะป

```bash
# ะฃะฑะธัั ัะตัะฒะตั
killall node

# ะะฐะฟัััะธัั auto-heal
npm run doctor:auto

# Output:
โ /api/health FAIL
โ๏ธ ะัะฟะพะปะฝัะตะผ ะฐะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต...
๐ ะะตัะตะทะฐะฟััะบ ัะตัะฒะตัะฐ...
โ ะกะตัะฒะตั ะทะฐะฟััะตะฝ ั PID: 12345
๐ ะะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ััะฟะตัะฝะพ!
```

---

## ๐ Monitor Mode

```bash
npm run doctor:monitor

# Output:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะัะพะฒะตัะบะฐ #1 (14:30:00)
โ /api/health OK
โ /api/girls OK (count: 6)
ะกัะฐััั: ะะดะพัะพะฒ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะกัะฐัะธััะธะบะฐ: ะัะพะฒะตัะพะบ: 1 | ะัะธะฑะพะบ: 0 | ะะพัััะฐะฝะพะฒะปะตะฝะธะน: 0
ะกะปะตะดัััะฐั ะฟัะพะฒะตัะบะฐ ัะตัะตะท 30s...
```

**ะัะธ ัะฑะพะต:**
```
ะัะพะฒะตัะบะฐ #5 (14:35:00)
โ /api/health FAIL
โ๏ธ ะะฑะฝะฐััะถะตะฝั ะฟัะพะฑะปะตะผั, ะฒัะฟะพะปะฝัะตะผ ะฐะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต...
โ ะะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ััะฟะตัะฝะพ!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะกัะฐัะธััะธะบะฐ: ะัะพะฒะตัะพะบ: 5 | ะัะธะฑะพะบ: 1 | ะะพัััะฐะฝะพะฒะปะตะฝะธะน: 1
```

---

## ๐ ะะพะณะธ

```bash
# ะะพัะผะพััะตัั ะปะพะณะธ
cat auto-heal.log

# ะกะปะตะดะธัั ะทะฐ ะปะพะณะฐะผะธ
tail -f auto-heal.log
```

**ะัะธะผะตั:**
```
2025-10-13 14:30:15 [SUCCESS] โ /api/health OK
2025-10-13 14:30:15 [SUCCESS] โ /api/girls OK (count: 6)
2025-10-13 14:32:45 [ERROR] โ /api/health FAIL
2025-10-13 14:32:45 [INFO] ๐ ะะตัะตะทะฐะฟััะบ ัะตัะฒะตัะฐ...
2025-10-13 14:33:00 [SUCCESS] ๐ ะะฒัะพะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ััะฟะตัะฝะพ!
```

---

## ๐ง Troubleshooting

### ะะพัั ะทะฐะฝัั

```bash
./scripts/auto-heal.sh restart
```

### ะกะตัะฒะตั ะฝะต ะทะฐะฟััะบะฐะตััั

```bash
# ะัะพะฒะตัะธัั ะปะพะณะธ
cat api-server.log

# ะัะพะฒะตัะธัั ะทะฐะฒะธัะธะผะพััะธ
cd api && npm install
```

---

## โ Use Cases

### Development

```bash
# ะ ะพะดะฝะพะผ ัะตัะผะธะฝะฐะปะต
npm run doctor:monitor

# ะ ะดััะณะพะผ
cd peach-web && npm run dev
```

### CI/CD

```bash
# ะะพัะปะต deploy
npm run doctor:auto || exit 1
```

### Cron Job

```bash
# ะะฐะถะดัะต 5 ะผะธะฝัั
*/5 * * * * cd /path/to/peachmini && npm run doctor:auto
```

---

## ๐ Docs

- **AUTO-HEAL-SYSTEM.md** - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
- **AUTO-HEAL-QUICK.md** - ะญัะพั ะณะฐะนะด
- **scripts/auto-heal.sh** - ะััะพะดะฝัะน ะบะพะด

---

**Status:** โ Ready

**Self-Healing:** Enabled

**ะะพะผะฐะฝะดะฐ:** `npm run doctor:auto`

