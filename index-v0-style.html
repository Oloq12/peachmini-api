<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peach Mini - AI Компаньоны (на основе v0)</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #111116 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            min-height: 100vh;
        }

        .app {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 20px 16px;
            text-align: center;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
        }

                 .header h1 {
             font-size: 1.875rem;
             font-weight: bold;
             color: white;
             margin-bottom: 8px;
         }

         .logo {
             font-size: 1.5rem;
             font-weight: bold;
             color: white;
             cursor: pointer;
         }

         .logo .mini {
             background: linear-gradient(to right, #f093fb, #667eea);
             -webkit-background-clip: text;
             background-clip: text;
             -webkit-text-fill-color: transparent;
         }

        .main {
            flex: 1;
            padding-bottom: 100px;
        }

                 /* 3D КАРУСЕЛЬ из v0 */
         .gallery {
             height: 360px;
             perspective: 1000px;
             display: flex;
             align-items: center;
             justify-content: center;
             margin: 20px auto;
             overflow: hidden;
             position: relative;
             width: 100%;
             max-width: 400px;
         }

                 .gallery::before {
             content: '';
             position: absolute;
             left: 0;
             top: 0;
             width: 160px;
             height: 100%;
             background: linear-gradient(to right, 
                 rgba(17, 17, 22, 1) 0%, 
                 rgba(17, 17, 22, 0.98) 10%,
                 rgba(17, 17, 22, 0.92) 25%,
                 rgba(17, 17, 22, 0.8) 40%,
                 rgba(17, 17, 22, 0.6) 55%,
                 rgba(17, 17, 22, 0.35) 70%,
                 rgba(17, 17, 22, 0.15) 85%,
                 rgba(17, 17, 22, 0.05) 95%,
                 transparent 100%);
             z-index: 10;
             pointer-events: none;
             border-radius: 0 80px 80px 0;
             filter: blur(0.5px);
         }

         .gallery::after {
             content: '';
             position: absolute;
             right: 0;
             top: 0;
             width: 160px;
             height: 100%;
             background: linear-gradient(to left, 
                 rgba(17, 17, 22, 1) 0%, 
                 rgba(17, 17, 22, 0.98) 10%,
                 rgba(17, 17, 22, 0.92) 25%,
                 rgba(17, 17, 22, 0.8) 40%,
                 rgba(17, 17, 22, 0.6) 55%,
                 rgba(17, 17, 22, 0.35) 70%,
                 rgba(17, 17, 22, 0.15) 85%,
                 rgba(17, 17, 22, 0.05) 95%,
                 transparent 100%);
             z-index: 10;
             pointer-events: none;
             border-radius: 80px 0 0 80px;
             filter: blur(0.5px);
         }

                 .carousel {
             position: relative;
             width: 200px;
             height: 280px;
             transform-style: preserve-3d;
             transition: transform 0.5s ease;
             margin: 0 auto;
             cursor: grab;
             left: 50%;
             transform-origin: center;
             margin-left: -100px;
         }

        .carousel:active {
            cursor: grabbing;
        }

        .card {
            position: absolute;
            width: 200px;
            height: 280px;
            border-radius: 24px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            overflow: hidden;
            cursor: pointer;
            transition: all 0.5s ease;
            left: 0;
            top: 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

                 .card.active {
             transform: scale(1.05);
             box-shadow: 0 25px 50px rgba(240, 147, 251, 0.3);
             z-index: 10;
         }

                 .card-img {
             width: 100%;
             height: 100%;
             background: linear-gradient(135deg, 
                 rgba(240, 147, 251, 0.9) 0%, 
                 rgba(102, 126, 234, 0.9) 100%);
             display: flex;
             align-items: center;
             justify-content: center;
             font-size: 3rem;
             border-radius: 24px;
             position: relative;
         }

        .card-img::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 50%,
                rgba(255, 255, 255, 0.02) 100%);
            border-radius: 24px;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, 
                rgba(0, 0, 0, 0.6) 0%, 
                rgba(0, 0, 0, 0.3) 30%,
                rgba(0, 0, 0, 0.1) 60%,
                transparent 100%);
            border-radius: 24px;
        }

        .card-info {
            position: absolute;
            bottom: 16px;
            left: 16px;
            color: white;
        }

                 /* КНОПКА СОЗДАНИЯ */
         .create-btn {
             margin: 24px 16px;
             padding: 16px;
             background: linear-gradient(135deg, #f093fb, #667eea);
             border: none;
             border-radius: 16px;
             color: white;
             font-size: 1.1rem;
             font-weight: bold;
             cursor: pointer;
             display: flex;
             align-items: center;
             justify-content: center;
             gap: 12px;
             box-shadow: 0 8px 24px rgba(240, 147, 251, 0.3);
         }

        /* КАТАЛОГ из v0 */
        .catalog {
            padding: 0 16px;
        }

                 .filters {
             display: flex;
             gap: 8px;
             margin-bottom: 16px;
             justify-content: center;
         }

         .filter {
             padding: 8px 16px;
             border: none;
             border-radius: 20px;
             font-size: 0.9rem;
             cursor: pointer;
             background: rgba(255, 255, 255, 0.1);
             color: rgba(255, 255, 255, 0.7);
             flex: 1;
             max-width: 90px;
             text-align: center;
             transition: all 0.3s ease;
         }

                 .filter.active {
             background: linear-gradient(135deg, #ec4899, #f97316);
             color: white;
             box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
         }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .catalog-card {
            position: relative;
            height: 240px;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
        }

                 .create-card {
             background: linear-gradient(135deg, rgba(255, 20, 147, 0.15), rgba(255, 105, 180, 0.15));
             border: 2px dashed rgba(255, 105, 180, 0.4);
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
             text-align: center;
             padding: 16px;
             transition: all 0.3s ease;
         }

         .create-card:hover {
             background: linear-gradient(135deg, rgba(255, 20, 147, 0.25), rgba(255, 105, 180, 0.25));
             border-color: rgba(255, 105, 180, 0.6);
             transform: translateY(-2px);
         }

        /* НАВИГАЦИЯ из v0 */
        .nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 8px;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.75rem;
            border-radius: 12px;
            min-width: 60px;
        }

                 .nav-item.active { color: #ec4899; }

         .nav-item.create {
             background: linear-gradient(135deg, #f093fb, #667eea);
             color: white !important;
             box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);
         }

        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        /* СТРАНИЦЫ */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            background: inherit;
            display: flex;
            flex-direction: column;
        }

                 /* ТЕГИ ДЛЯ СОЗДАНИЯ */
         .tag {
             padding: 8px 16px;
             background: rgba(255, 255, 255, 0.1);
             border: 1px solid rgba(255, 255, 255, 0.2);
             border-radius: 20px;
             color: rgba(255, 255, 255, 0.8);
             cursor: pointer;
             transition: all 0.3s ease;
             font-size: 0.9rem;
         }

         /* АНИМАЦИЯ ТЕКСТА */
         #partnerType, #mainPartnerType {
             transition: opacity 0.3s ease;
             display: inline-block;
         }

                 .tag.selected {
             background: linear-gradient(135deg, #ff6b9d, #667eea);
             color: white;
             border-color: transparent;
         }

         /* СТИЛИ ДЛЯ СОЗДАНИЯ */
         .create-mode-btn.active {
             background: linear-gradient(135deg, #f093fb, #667eea) !important;
             border-color: transparent !important;
         }

         .similarity-btn.active {
             background: linear-gradient(135deg, #ff6b9d, #667eea) !important;
             border-color: transparent !important;
         }
    </style>
</head>
<body>
    <div class="app">
        <!-- ХЕДЕР -->
        <header class="header">
            <div class="logo" onclick="navigateTo('home')">
                🍑 Peach<span class="mini">Mini</span>
            </div>
        </header>

        <!-- HOME PAGE HEADER -->
        <div id="home-header" class="welcome">
            <h1>Найди свою пару</h1>
            <p style="color: #9CA3AF;">Начни общаться с AI-компаньонами</p>
        </div>

        <!-- ОСНОВНОЙ КОНТЕНТ - ГЛАВНАЯ СТРАНИЦА -->
        <main class="main" id="home-content">
            <!-- 3D ГАЛЕРЕЯ (из v0) -->
            <section class="gallery">
                <div class="carousel" id="carousel"></div>
            </section>

                                                   <!-- КНОПКА СОЗДАНИЯ -->
              <button class="create-btn" onclick="navigateTo('create')">
                  <div style="display: flex; align-items: center; justify-content: center; position: relative; width: 100%;">
                      <span style="font-size: 2rem; position: absolute; left: 16px; top: 50%; transform: translateY(-50%);">⭐</span>
                      <div style="text-align: center; flex: 1; padding: 0 60px;">
                          <div>Создайте <span id="mainPartnerType">свою спутницу</span></div>
                          <div style="font-size: 0.8rem; opacity: 0.8; margin-top: 2px;">Оригинальная или по образу</div>
                      </div>
                      <span style="font-size: 2rem; position: absolute; right: 16px; top: 50%; transform: translateY(-50%);">⭐</span>
                  </div>
              </button>

                         <!-- КАТАЛОГ (из v0) -->
             <section class="catalog">
                 <div class="filters">
                     <button class="filter active" onclick="filterChars('all')">Все модели</button>
                     <button class="filter" onclick="filterChars('real')">Реальный</button>
                     <button class="filter" onclick="filterChars('anime')">Аниме</button>
                     <button class="filter" onclick="filterChars('my')">👤 Мои</button>
                 </div>
                 <div class="grid" id="grid"></div>
             </section>
        </main>

        <!-- СТРАНИЦА СОЗДАНИЯ КОМПАНЬОНА -->
        <div class="page" id="page-create" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">←</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">⭐ Создать компаньона</h1>
            </div>
                         <div style="padding: 20px 16px; padding-bottom: 100px;">
                 <!-- ВЫБОР СПОСОБА СОЗДАНИЯ -->
                 <div style="display: flex; gap: 12px; margin-bottom: 24px;">
                     <button id="createOriginalBtn" class="create-mode-btn active" onclick="switchCreateMode('original')" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #f093fb, #667eea); border: none; border-radius: 12px; color: white; font-weight: bold; cursor: pointer;">🎨 Оригинальная</button>
                     <button id="createReferenceBtn" class="create-mode-btn" onclick="switchCreateMode('reference')" style="flex: 1; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; color: white; font-weight: bold; cursor: pointer;">💫 По образу</button>
                 </div>

                 <!-- ОРИГИНАЛЬНОЕ СОЗДАНИЕ -->
                 <div id="originalCreation" style="display: block;">
                     <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 20px; padding: 40px 20px; text-align: center; margin-bottom: 30px; cursor: pointer;" onclick="uploadPhoto()">
                         <div style="font-size: 4rem; color: #ff6b9d; margin-bottom: 16px;">🎨</div>
                         <h3>Создать оригинальную</h3>
                         <p style="color: rgba(255,255,255,0.6);">ИИ сгенерирует уникальную внешность</p>
                     </div>
                 </div>

                 <!-- СОЗДАНИЕ ПО РЕФЕРЕНСУ -->
                 <div id="referenceCreation" style="display: none;">
                     <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 20px; padding: 30px 20px; margin-bottom: 20px;">
                         <div style="text-align: center; margin-bottom: 20px;">
                             <div style="font-size: 3rem; color: #ff6b9d; margin-bottom: 12px;">💫</div>
                             <h3>Воссоздать по образу</h3>
                             <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">Загрузите фото для вдохновения</p>
                         </div>
                         
                         <div style="background: rgba(255, 255, 255, 0.05); border: 1px dashed rgba(255, 255, 255, 0.3); border-radius: 16px; padding: 24px; text-align: center; cursor: pointer; margin-bottom: 16px;" onclick="uploadReference()">
                             <div style="font-size: 2.5rem; margin-bottom: 8px;">📸</div>
                             <p style="font-size: 0.9rem;">Нажмите для загрузки</p>
                             <p style="font-size: 0.8rem; color: rgba(255,255,255,0.5);">JPEG/PNG до 10MB</p>
                         </div>

                         <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 12px; padding: 16px; margin-bottom: 16px;">
                             <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                 <span style="font-size: 1.2rem;">⚖️</span>
                                 <span style="font-weight: bold; color: #ffc107;">Этические принципы</span>
                             </div>
                             <ul style="font-size: 0.85rem; color: rgba(255,255,255,0.8); margin: 0; padding-left: 16px;">
                                 <li>Используйте только с согласия человека</li>
                                 <li>Не загружайте фото несовершеннолетних</li>
                                 <li>Результат будет стилизован и не копирует точно</li>
                             </ul>
                         </div>

                         <div style="margin-bottom: 16px;">
                             <label style="display: block; margin-bottom: 8px; font-weight: bold;">💫 Степень похожести:</label>
                             <div style="display: flex; gap: 8px;">
                                 <button class="similarity-btn active" onclick="setSimilarity('inspired')" style="flex: 1; padding: 8px 12px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; font-size: 0.85rem; cursor: pointer;">Вдохновленный</button>
                                 <button class="similarity-btn" onclick="setSimilarity('similar')" style="flex: 1; padding: 8px 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 0.85rem; cursor: pointer;">Похожий</button>
                                 <button class="similarity-btn" onclick="setSimilarity('close')" style="flex: 1; padding: 8px 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 0.85rem; cursor: pointer;">Максимальный</button>
                             </div>
                         </div>
                     </div>
                 </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">👤 Основные данные</h3>
                    <input type="text" placeholder="Имя компаньона..." style="width: 100%; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; color: white; font-size: 1rem; margin-bottom: 15px;" id="companionNameCreate">
                    <input type="number" placeholder="Возраст (18-35)" min="18" max="35" value="25" style="width: 100%; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; color: white; font-size: 1rem; margin-bottom: 15px;" id="companionAgeCreate">
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">🎭 Характер</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                        <div class="tag" onclick="toggleCreateTag(this)">Игривая</div>
                        <div class="tag" onclick="toggleCreateTag(this)">Романтичная</div>
                        <div class="tag" onclick="toggleCreateTag(this)">Умная</div>
                        <div class="tag" onclick="toggleCreateTag(this)">Загадочная</div>
                        <div class="tag" onclick="toggleCreateTag(this)">Дерзкая</div>
                        <div class="tag" onclick="toggleCreateTag(this)">Нежная</div>
                    </div>
                </div>
                                 <button id="createFinalBtn" style="width: 100%; padding: 16px; background: linear-gradient(135deg, #f093fb, #667eea); border: none; border-radius: 16px; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer;" onclick="createCustomCompanion()">💎 Создать за 100 звезд</button>
            </div>
        </div>

        <!-- СТРАНИЦА МОИ КОМПАНЬОНЫ -->
        <div class="page" id="page-companions" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">←</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">👥 Мои компаньоны</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                    <div style="background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(102, 126, 234, 0.1)); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px 16px; cursor: pointer; height: 240px;" onclick="navigateTo('create')">
                        <div style="font-size: 3rem; color: #ff6b9d; margin-bottom: 10px;">⭐</div>
                        <h3>Создать нового компаньона</h3>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; height: 240px;" onclick="openIndividualChat('Анна')">
                        <div style="width: 100%; height: 150px; background: linear-gradient(45deg, #ff6b9d, #667eea); display: flex; align-items: center; justify-content: center; font-size: 3rem;">😇</div>
                        <div style="padding: 16px;">
                            <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 4px;">Анна</div>
                            <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">25 лет • В сети</div>
                        </div>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; height: 240px;" onclick="openIndividualChat('Мия')">
                        <div style="width: 100%; height: 150px; background: linear-gradient(45deg, #ff6b9d, #667eea); display: flex; align-items: center; justify-content: center; font-size: 3rem;">😊</div>
                        <div style="padding: 16px;">
                            <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 4px;">Мия</div>
                            <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">23 года • Недавно</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- СТРАНИЦА ЧАТОВ -->
        <div class="page" id="page-chat" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; margin-bottom: 20px;">
                <h1 style="font-size: 1.5rem; font-weight: bold; color: white; margin-bottom: 8px;">💬 Чат</h1>
                <p style="color: #9CA3AF;">Ваши активные диалоги</p>
            </div>
            <div style="padding: 0 16px 100px;">
                <!-- Chat Item -->
                <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); padding: 12px; border-radius: 16px; display: flex; align-items: center; gap: 16px; cursor: pointer; hover: background: rgba(255, 255, 255, 0.1); transition: all 0.3s ease; margin-bottom: 16px;" onclick="openIndividualChat('Vera Marquette')">
                    <div style="position: relative; width: 56px; height: 56px; flex-shrink: 0;">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612b1e4?w=56&h=56&fit=crop&crop=face" alt="Vera Marquette" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                    </div>
                    <div style="flex-grow: 1; overflow: hidden;">
                        <h3 style="font-weight: bold; font-size: 1rem; margin-bottom: 4px;">
                            Vera Marquette <span style="font-weight: 300; color: #9CA3AF;">24</span>
                        </h3>
                        <div style="display: flex; align-items: center; gap: 8px; font-size: 0.875rem; color: #9CA3AF; overflow: hidden;">
                            <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">Ого, это довольно экстравагантное ув...</p>
                        </div>
                    </div>
                </div>

                <!-- Chat Item with Voice -->
                <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); padding: 12px; border-radius: 16px; display: flex; align-items: center; gap: 16px; cursor: pointer; hover: background: rgba(255, 255, 255, 0.1); transition: all 0.3s ease; margin-bottom: 16px;" onclick="openIndividualChat('Elara Nightshade')">
                    <div style="position: relative; width: 56px; height: 56px; flex-shrink: 0;">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=56&h=56&fit=crop&crop=face" alt="Elara Nightshade" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                    </div>
                    <div style="flex-grow: 1; overflow: hidden;">
                        <h3 style="font-weight: bold; font-size: 1rem; margin-bottom: 4px;">
                            Elara Nightshade <span style="font-weight: 300; color: #9CA3AF;">23</span>
                        </h3>
                        <div style="display: flex; align-items: center; gap: 8px; font-size: 0.875rem; color: #9CA3AF; overflow: hidden;">
                            <svg style="width: 16px; height: 16px; flex-shrink: 0;" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                            </svg>
                            <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">Привет, я наблюдала за тобой. Готова ...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- СТРАНИЦА ГЕНЕРАЦИИ -->
        <div class="page" id="page-generate" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">←</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">🎨 Генерация фото</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1); text-align: center;">
                    <div style="font-size: 3rem; color: #ff6b9d; margin-bottom: 16px;">🎨</div>
                    <h3>Генерация AI-фото</h3>
                    <p style="color: rgba(255,255,255,0.6); margin: 16px 0;">Создайте уникальные фото ваших компаньонов с помощью ИИ</p>
                    <button style="width: 100%; padding: 16px; background: linear-gradient(135deg, #f093fb, #667eea); border: none; border-radius: 16px; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px;" onclick="generatePhoto()">💎 Генерировать за 25 звезд</button>
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">🛒 Пакеты генерации</h3>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>5 фото</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">100⭐</button>
                    </div>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>20 фото</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">350⭐</button>
                    </div>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>50 фото</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">750⭐</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ИНДИВИДУАЛЬНЫЙ ЧАТ -->
        <div class="page" id="page-individual-chat" style="display: none;">
            <div style="padding: 16px; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; gap: 12px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <button style="background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('chat')">←</button>
                <div style="width: 40px; height: 40px; background: linear-gradient(45deg, #ff6b9d, #667eea); border-radius: 50%; display: flex; align-items: center; justify-content: center;" id="chatAvatar">😇</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold;" id="chatName">Анна</div>
                    <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">В сети</div>
                </div>
            </div>
            <div style="flex: 1; padding: 16px; overflow-y: auto; padding-bottom: 80px;" id="chatMessages">
                <div style="background: rgba(255, 255, 255, 0.1); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%; margin-left: auto;">
                    Привет! Как дела? 😊
                </div>
                <div style="background: linear-gradient(135deg, #ff6b9d, #667eea); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%;">
                    Привет! Отлично, спасибо! А у тебя как? 💕
                </div>
            </div>
            <div style="position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 420px; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(20px); padding: 16px; display: flex; gap: 12px;">
                <input type="text" placeholder="Напишите сообщение..." style="flex: 1; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 20px; color: white;" id="messageInput">
                <button style="width: 44px; height: 44px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center;" onclick="sendMessage()">→</button>
            </div>
        </div>

        <!-- НАВИГАЦИЯ (из v0) -->
        <nav class="nav">
            <a href="#" class="nav-item active" onclick="navigateTo('home')">
                <div class="nav-icon">🏠</div>
                <span>Домой</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('chat')">
                <div class="nav-icon">💬</div>
                <span>Чат</span>
            </a>
            <a href="#" class="nav-item create" onclick="navigateTo('create')">
                <div class="nav-icon">⭐</div>
                <span>Создать</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('generate')">
                <div class="nav-icon">🎨</div>
                <span>Генерация</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('companions')">
                <div class="nav-icon">👥</div>
                <span>Мои</span>
            </a>
        </nav>
    </div>

    <script>
        // ДАННЫЕ из v0
        const chars = [
            { emoji: "😇", name: "Лила", age: 22, personality: "Милая и невинная" },
            { emoji: "😈", name: "Рокси", age: 24, personality: "Дерзкая и игривая" },
            { emoji: "🧠", name: "Элара", age: 26, personality: "Умная и загадочная" },
            { emoji: "🎨", name: "Хлоя", age: 21, personality: "Творческая и мечтательная" },
            { emoji: "🔥", name: "Серафина", age: 25, personality: "Страстная и уверенная" },
            { emoji: "😊", name: "Мия", age: 23, personality: "Добрая и заботливая" }
        ];

        const catalog = [
            { name: "Лила", age: 18, tag: "Аниме" },
            { name: "Ария", age: 25, tag: "Аниме" },
            { name: "Серена", age: 28, tag: "Реальный" },
            { name: "Хлоя", age: 24, tag: "Реальный" }
        ];

        let currentIndex = 0;

        // TELEGRAM
        if (window.Telegram?.WebApp) {
            window.Telegram.WebApp.ready();
            console.log('📱 Telegram Web App готов');
        }

        // СОЗДАНИЕ КАРУСЕЛИ с интерактивностью
        let isDragging = false;
        let startX = 0;
        let currentRotation = 0;
        let autoRotateInterval;

        function createCarousel() {
            const carousel = document.getElementById('carousel');
            const angle = 360 / chars.length;

            chars.forEach((char, i) => {
                const card = document.createElement('div');
                card.className = `card ${i === 0 ? 'active' : ''}`;
                card.style.transform = `rotateY(${i * angle}deg) translateZ(200px)`;
                
                card.innerHTML = `
                    <div class="card-img">${char.emoji}</div>
                    <div class="card-overlay"></div>
                    <div class="card-info">
                        <div style="font-size: 1.5rem;">${char.emoji}</div>
                        <div style="font-weight: bold; font-size: 1.25rem;">${char.name} <span style="font-weight: 300;">${char.age}</span></div>
                        <div style="font-size: 0.75rem; color: rgba(255,255,255,0.7); margin-top: 4px;">${char.personality}</div>
                    </div>
                `;
                
                card.onclick = () => selectChar(char);
                carousel.appendChild(card);
            });

            // Интерактивность мышью
            carousel.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);

            // Интерактивность touch
            carousel.addEventListener('touchstart', startTouch);
            carousel.addEventListener('touchmove', dragTouch);
            carousel.addEventListener('touchend', endDrag);

            // Автовращение
            startAutoRotate();
        }

        function startAutoRotate() {
            autoRotateInterval = setInterval(() => {
                if (!isDragging) {
                    currentIndex = (currentIndex + 1) % chars.length;
                    rotateCarousel();
                }
            }, 4000);
        }

        function stopAutoRotate() {
            clearInterval(autoRotateInterval);
        }

                 function startDrag(e) {
             isDragging = true;
             startX = e.clientX;
             stopAutoRotate();
             
             // Синхронизируем currentRotation с текущим состоянием
             const angle = 360 / chars.length;
             currentRotation = -currentIndex * angle;
             
             e.preventDefault();
         }

         function startTouch(e) {
             isDragging = true;
             startX = e.touches[0].clientX;
             stopAutoRotate();
             
             // Синхронизируем currentRotation с текущим состоянием
             const angle = 360 / chars.length;
             currentRotation = -currentIndex * angle;
             
             e.preventDefault();
         }

                 function drag(e) {
             if (!isDragging) return;
             
             const currentX = e.clientX;
             const deltaX = currentX - startX;
             const sensitivity = 2;
             
             // Ограничиваем скорость вращения
             const maxDelta = 10;
             const limitedDelta = Math.max(-maxDelta, Math.min(maxDelta, deltaX / sensitivity));
             
             currentRotation += limitedDelta;
             document.getElementById('carousel').style.transform = `rotateY(${currentRotation}deg)`;
             
             startX = currentX;
             e.preventDefault();
         }

         function dragTouch(e) {
             if (!isDragging) return;
             
             const currentX = e.touches[0].clientX;
             const deltaX = currentX - startX;
             const sensitivity = 2;
             
             // Ограничиваем скорость вращения
             const maxDelta = 10;
             const limitedDelta = Math.max(-maxDelta, Math.min(maxDelta, deltaX / sensitivity));
             
             currentRotation += limitedDelta;
             document.getElementById('carousel').style.transform = `rotateY(${currentRotation}deg)`;
             
             startX = currentX;
             e.preventDefault();
         }

         function endDrag() {
             if (!isDragging) return;
             
             isDragging = false;
             
             // Упрощенная логика snap-to-card
             const angle = 360 / chars.length;
             
             // Находим ближайший индекс без сложных вычислений
             let closestIndex = Math.round(-currentRotation / angle);
             
             // Нормализуем индекс в пределах массива
             closestIndex = ((closestIndex % chars.length) + chars.length) % chars.length;
             
             // Устанавливаем новый текущий индекс
             currentIndex = closestIndex;
             
             rotateCarousel();
             
             // Возобновить автовращение
             setTimeout(startAutoRotate, 2000);
         }

                 function rotateCarousel() {
             const carousel = document.getElementById('carousel');
             const angle = 360 / chars.length;
             
             // Вычисляем целевой угол и обновляем currentRotation
             const targetRotation = -currentIndex * angle;
             currentRotation = targetRotation;
             
             carousel.style.transform = `rotateY(${currentRotation}deg)`;
             
             document.querySelectorAll('.card').forEach((card, i) => {
                 card.classList.toggle('active', i === currentIndex);
             });
         }

                 // СОЗДАНИЕ КАТАЛОГА (адаптация v0)
         function createCatalog() {
             const grid = document.getElementById('grid');
             
             // Карточка оригинального создания
             const createCard = document.createElement('div');
             createCard.className = 'catalog-card create-card';
             createCard.innerHTML = `
                 <div style="font-size: 3rem; color: #ff1493; height: 60px; display: flex; align-items: center; justify-content: center;">⭐</div>
                 <h3 style="font-weight: bold; margin-top: 8px; height: 24px; display: flex; align-items: center; justify-content: center;">Создать <span id="partnerType">спутника</span></h3>
             `;
             createCard.onclick = () => navigateTo('create');
             grid.appendChild(createCard);

             // Карточка создания по образу
             const referenceCard = document.createElement('div');
             referenceCard.className = 'catalog-card create-card';
             referenceCard.innerHTML = `
                 <div style="font-size: 3rem; color: #ff69b4;">📸</div>
                 <h3 style="font-weight: bold; margin-top: 8px;">Создать по образу</h3>
                 <p style="font-size: 0.8rem; opacity: 0.8; margin-top: 4px;">Загрузи фото</p>
             `;
             referenceCard.onclick = () => {
                 navigateTo('create');
                 setTimeout(() => switchCreateMode('reference'), 100);
             };
             grid.appendChild(referenceCard);

             // Персонажи
             catalog.forEach(char => {
                 const card = document.createElement('div');
                 card.className = 'catalog-card';
                 card.setAttribute('data-tag', char.tag.toLowerCase());
                 
                 card.innerHTML = `
                     <div style="width: 100%; height: 100%; background: linear-gradient(45deg, #ff1493, #ff69b4, #da70d6); display: flex; align-items: center; justify-content: center; font-size: 2rem;">👤</div>
                     <div style="position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);"></div>
                     <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px); color: white; font-size: 0.75rem; padding: 4px 8px; border-radius: 12px;">${char.tag}</div>
                     <div style="position: absolute; bottom: 8px; left: 8px; color: white; font-weight: bold;">${char.name} ${char.age}</div>
                 `;
                 
                 card.onclick = () => selectChar(char);
                 grid.appendChild(card);
             });
         }

                 // ФИЛЬТРАЦИЯ (из v0)
         function filterChars(filter) {
             document.querySelectorAll('.filter').forEach(btn => btn.classList.remove('active'));
             event.target.classList.add('active');

             document.querySelectorAll('.catalog-card').forEach(card => {
                 if (card.classList.contains('create-card')) {
                     card.style.display = 'flex';
                     return;
                 }

                 const tag = card.getAttribute('data-tag');
                 if (filter === 'all' || 
                     (filter === 'real' && tag === 'реальный') || 
                     (filter === 'anime' && tag === 'аниме') ||
                     (filter === 'my')) {
                     card.style.display = 'block';
                 } else {
                     card.style.display = 'none';
                 }
             });

             // Для фильтра "Мои" показываем только карточки создания
             if (filter === 'my') {
                 document.querySelectorAll('.catalog-card:not(.create-card)').forEach(card => {
                     card.style.display = 'none';
                 });
             }
         }

        // НАВИГАЦИЯ МЕЖДУ СТРАНИЦАМИ
        function navigateTo(page) {
            // Скрыть все страницы
            document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
            document.getElementById('home-content').style.display = 'none';
            
            // Обновить навигацию
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            
            // Показать нужную страницу
            if (page === 'home') {
                document.getElementById('home-content').style.display = 'block';
                document.querySelector('.nav-item[onclick="navigateTo(\'home\')"]').classList.add('active');
            } else {
                document.getElementById(`page-${page}`).style.display = 'flex';
                document.querySelector(`.nav-item[onclick="navigateTo('${page}')"]`).classList.add('active');
            }
            
            // Отправить в Telegram
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'navigate',
                    page: page
                }));
            }
            
            console.log('🔥 Переход на:', page);
        }

                 // СОЗДАНИЕ КАСТОМНОГО КОМПАНЬОНА
         let currentCreateMode = 'original';
         let currentSimilarity = 'inspired';
         let uploadedReference = null;

         function switchCreateMode(mode) {
             currentCreateMode = mode;
             
             // Обновить кнопки
             document.querySelectorAll('.create-mode-btn').forEach(btn => btn.classList.remove('active'));
             document.getElementById(mode === 'original' ? 'createOriginalBtn' : 'createReferenceBtn').classList.add('active');
             
             // Показать/скрыть секции
             document.getElementById('originalCreation').style.display = mode === 'original' ? 'block' : 'none';
             document.getElementById('referenceCreation').style.display = mode === 'reference' ? 'block' : 'none';
             
             // Обновить кнопку создания
             const finalBtn = document.getElementById('createFinalBtn');
             if (mode === 'reference') {
                 finalBtn.innerHTML = '💫 Создать по образу за 150 звезд';
             } else {
                 finalBtn.innerHTML = '💎 Создать за 100 звезд';
             }
             
             console.log('🔄 Режим создания:', mode);
         }

         function setSimilarity(level) {
             currentSimilarity = level;
             
             // Обновить кнопки
             document.querySelectorAll('.similarity-btn').forEach(btn => btn.classList.remove('active'));
             event.target.classList.add('active');
             
             console.log('💫 Степень похожести:', level);
         }

         function uploadReference() {
             // Имитация загрузки файла
             const input = document.createElement('input');
             input.type = 'file';
             input.accept = 'image/jpeg,image/png';
             input.onchange = function(e) {
                 const file = e.target.files[0];
                 if (file) {
                     uploadedReference = file;
                     // Обновить UI
                     const uploadArea = event.target;
                     uploadArea.innerHTML = `
                         <div style="font-size: 2.5rem; margin-bottom: 8px;">✅</div>
                         <p style="font-size: 0.9rem; color: #4CAF50;">Референс загружен</p>
                         <p style="font-size: 0.8rem; color: rgba(255,255,255,0.5);">${file.name}</p>
                     `;
                     uploadArea.style.borderColor = 'rgba(76, 175, 80, 0.5)';
                     uploadArea.style.background = 'rgba(76, 175, 80, 0.1)';
                     
                     console.log('📸 Референс загружен:', file.name);
                 }
             };
             input.click();
         }

         function toggleCreateTag(element) {
             element.classList.toggle('selected');
         }

         function uploadPhoto() {
             alert('🎨 Функция загрузки фото будет доступна после интеграции с ботом!');
         }

                 function createCustomCompanion() {
             const name = document.getElementById('companionNameCreate').value || 'Анна';
             const age = document.getElementById('companionAgeCreate').value || '25';
             const personality = Array.from(document.querySelectorAll('#page-create .tag.selected')).map(tag => tag.textContent);
             
             const companionData = {
                 name: name,
                 age: age,
                 personality: personality,
                 creationMode: currentCreateMode,
                 similarity: currentSimilarity,
                 hasReference: uploadedReference !== null
             };
             
             // Проверки для режима по референсу
             if (currentCreateMode === 'reference' && !uploadedReference) {
                 alert('📸 Пожалуйста, загрузите референсное фото для создания по образу!');
                 return;
             }
             
             if (window.Telegram?.WebApp) {
                 window.Telegram.WebApp.sendData(JSON.stringify({
                     action: 'create_custom_companion',
                     data: companionData
                 }));
             }
             
             const modeText = currentCreateMode === 'reference' ? 'по образу' : 'оригинальная';
             const priceText = currentCreateMode === 'reference' ? '150 звезд' : '100 звезд';
             
             alert(`🎉 Компаньон "${name}" создан (${modeText})!\nВозраст: ${age}\nХарактер: ${personality.join(', ') || 'Загадочная'}\nСтоимость: ${priceText}`);
             
             // Сброс формы
             uploadedReference = null;
             currentCreateMode = 'original';
             currentSimilarity = 'inspired';
             
             navigateTo('companions');
             console.log('🎨 Создан компаньон:', companionData);
         }

        // ИНДИВИДУАЛЬНЫЙ ЧАТ
        function openIndividualChat(name) {
            document.getElementById('chatName').textContent = name;
            document.getElementById('chatAvatar').textContent = name === 'Анна' ? '😇' : '😊';
            navigateTo('individual-chat');
            
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'open_individual_chat',
                    companion: name
                }));
            }
            
            console.log('💬 Открыт чат с:', name);
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (!message) return;
            
            // Добавить сообщение в чат
            const messagesContainer = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.style.cssText = 'background: rgba(255, 255, 255, 0.1); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%; margin-left: auto;';
            messageElement.textContent = message;
            messagesContainer.appendChild(messageElement);
            
            // Очистить поле
            input.value = '';
            
            // Отправить в бот
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'send_message',
                    message: message,
                    companion: document.getElementById('chatName').textContent
                }));
            }
            
            // Имитация ответа
            setTimeout(() => {
                const responseElement = document.createElement('div');
                responseElement.style.cssText = 'background: linear-gradient(135deg, #ff6b9d, #667eea); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%;';
                responseElement.textContent = 'Спасибо за сообщение! 💕 (ответ от ИИ будет после интеграции с ботом)';
                messagesContainer.appendChild(responseElement);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
            
            console.log('📨 Отправлено:', message);
        }

        // ГЕНЕРАЦИЯ ФОТО
        function generatePhoto() {
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'generate_photo'
                }));
            }
            
            alert('🎨 Генерация фото будет доступна после интеграции с ИИ!');
            console.log('🎨 Запрос на генерацию фото');
        }

        // ВЫБОР ПЕРСОНАЖА
        function selectChar(char) {
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'select_character',
                    character: char.name,
                    age: char.age,
                    personality: char.personality || char.tag
                }));
            }
            console.log('👤 Выбран:', char.name);
        }

                 // ДИНАМИЧЕСКАЯ СМЕНА ТЕКСТА
         const partnerTypes = ['спутника', 'девушку', 'коллегу', 'подругу', 'любовницу', 'начальницу', 'госпожу'];
         const mainPartnerTypes = ['свою спутницу', 'свою девушку', 'свою коллегу', 'свою подругу', 'свою любовницу', 'свою начальницу', 'свою госпожу'];
         let currentPartnerIndex = 0;

         function animatePartnerType() {
             const partnerElement = document.getElementById('partnerType');
             const mainPartnerElement = document.getElementById('mainPartnerType');
             
             if (partnerElement) {
                 partnerElement.style.opacity = '0';
                 setTimeout(() => {
                     currentPartnerIndex = (currentPartnerIndex + 1) % partnerTypes.length;
                     partnerElement.textContent = partnerTypes[currentPartnerIndex];
                     partnerElement.style.opacity = '1';
                 }, 300);
             }
             
             if (mainPartnerElement) {
                 mainPartnerElement.style.opacity = '0';
                 setTimeout(() => {
                     mainPartnerElement.textContent = mainPartnerTypes[currentPartnerIndex];
                     mainPartnerElement.style.opacity = '1';
                 }, 300);
             }
         }

         // ИНИЦИАЛИЗАЦИЯ
         document.addEventListener('DOMContentLoaded', function() {
             createCarousel();
             createCatalog();
             
             // Запускаем анимацию смены текста
             setInterval(animatePartnerType, 3000);
             
             console.log('🚀 Peach Web App загружен (v0 дизайн конвертирован)');
         });
    </script>
</body>
</html>