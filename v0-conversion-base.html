<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peach Mini - AI –ö–æ–º–ø–∞–Ω—å–æ–Ω—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ v0)</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #111116 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            min-height: 100vh;
        }

        .app {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 20px 16px;
            text-align: center;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(135deg, #ff6b9d, #667eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .main {
            flex: 1;
            padding-bottom: 100px;
        }

        /* 3D –ö–ê–†–£–°–ï–õ–¨ –∏–∑ v0 */
        .gallery {
            height: 360px;
            perspective: 1000px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 280px;
            transform-style: preserve-3d;
            transition: transform 1s ease;
        }

        .card {
            position: absolute;
            width: 200px;
            height: 280px;
            border-radius: 24px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            cursor: pointer;
            transition: all 0.5s ease;
        }

        .card.active {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(255, 107, 157, 0.3);
        }

        .card-img {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ff6b9d, #667eea);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }

        .card-info {
            position: absolute;
            bottom: 16px;
            left: 16px;
            color: white;
        }

        /* –ö–ù–û–ü–ö–ê –°–û–ó–î–ê–ù–ò–Ø */
        .create-btn {
            margin: 24px 16px;
            padding: 16px;
            background: linear-gradient(135deg, #f093fb, #667eea);
            border: none;
            border-radius: 16px;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        /* –ö–ê–¢–ê–õ–û–ì –∏–∑ v0 */
        .catalog {
            padding: 0 16px;
        }

        .filters {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .filter {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }

        .filter.active {
            background: linear-gradient(135deg, #ff6b9d, #667eea);
            color: white;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .catalog-card {
            position: relative;
            height: 240px;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
        }

        .create-card {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(102, 126, 234, 0.1));
            border: 2px dashed rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 16px;
        }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø –∏–∑ v0 */
        .nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 8px;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.75rem;
            border-radius: 12px;
            min-width: 60px;
        }

        .nav-item.active { color: #ff6b9d; }

        .nav-item.create {
            background: linear-gradient(135deg, #f093fb, #667eea);
            color: white !important;
        }

        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        /* –°–¢–†–ê–ù–ò–¶–´ */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            background: inherit;
            display: flex;
            flex-direction: column;
        }

        /* –¢–ï–ì–ò –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø */
        .tag {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .tag.selected {
            background: linear-gradient(135deg, #ff6b9d, #667eea);
            color: white;
            border-color: transparent;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- –•–ï–î–ï–† -->
        <header class="header">
            <h1>–ù–∞–π–¥–∏ —Å–≤–æ—é –ø–∞—Ä—É</h1>
            <p style="color: rgba(255,255,255,0.6);">–ù–∞—á–Ω–∏ –æ–±—â–∞—Ç—å—Å—è —Å AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–∞–º–∏</p>
        </header>

        <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ - –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê -->
        <main class="main" id="home-content">
            <!-- 3D –ì–ê–õ–ï–†–ï–Ø (–∏–∑ v0) -->
            <section class="gallery">
                <div class="carousel" id="carousel"></div>
            </section>

            <!-- –ö–ù–û–ü–ö–ê –°–û–ó–î–ê–ù–ò–Ø -->
            <button class="create-btn" onclick="navigateTo('create')">
                ‚≠ê –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞
            </button>

            <!-- –ö–ê–¢–ê–õ–û–ì (–∏–∑ v0) -->
            <section class="catalog">
                <div class="filters">
                    <button class="filter active" onclick="filterChars('all')">–í—Å–µ –º–æ–¥–µ–ª–∏</button>
                    <button class="filter" onclick="filterChars('real')">–†–µ–∞–ª—å–Ω—ã–π</button>
                    <button class="filter" onclick="filterChars('anime')">–ê–Ω–∏–º–µ</button>
                </div>
                <div class="grid" id="grid"></div>
            </section>
        </main>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –°–û–ó–î–ê–ù–ò–Ø –ö–û–ú–ü–ê–ù–¨–û–ù–ê -->
        <div class="page" id="page-create" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">‚Üê</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">‚≠ê –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 20px; padding: 40px 20px; text-align: center; margin-bottom: 30px; cursor: pointer;" onclick="uploadPhoto()">
                    <div style="font-size: 4rem; color: #ff6b9d; margin-bottom: 16px;">üì∑</div>
                    <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –¥–µ–≤—É—à–∫–∏</h3>
                    <p style="color: rgba(255,255,255,0.6);">JPEG/PNG, –º–∞–∫—Å–∏–º—É–º 10MB</p>
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">üë§ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                    <input type="text" placeholder="–ò–º—è –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞..." style="width: 100%; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; color: white; font-size: 1rem; margin-bottom: 15px;" id="companionNameCreate">
                    <input type="number" placeholder="–í–æ–∑—Ä–∞—Å—Ç (18-35)" min="18" max="35" value="25" style="width: 100%; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; color: white; font-size: 1rem; margin-bottom: 15px;" id="companionAgeCreate">
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">üé≠ –•–∞—Ä–∞–∫—Ç–µ—Ä</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                        <div class="tag" onclick="toggleCreateTag(this)">–ò–≥—Ä–∏–≤–∞—è</div>
                        <div class="tag" onclick="toggleCreateTag(this)">–†–æ–º–∞–Ω—Ç–∏—á–Ω–∞—è</div>
                        <div class="tag" onclick="toggleCreateTag(this)">–£–º–Ω–∞—è</div>
                        <div class="tag" onclick="toggleCreateTag(this)">–ó–∞–≥–∞–¥–æ—á–Ω–∞—è</div>
                        <div class="tag" onclick="toggleCreateTag(this)">–î–µ—Ä–∑–∫–∞—è</div>
                        <div class="tag" onclick="toggleCreateTag(this)">–ù–µ–∂–Ω–∞—è</div>
                    </div>
                </div>
                <button style="width: 100%; padding: 16px; background: linear-gradient(135deg, #f093fb, #667eea); border: none; border-radius: 16px; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer;" onclick="createCustomCompanion()">üíé –°–æ–∑–¥–∞—Ç—å –∑–∞ 100 –∑–≤–µ–∑–¥</button>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ú–û–ò –ö–û–ú–ü–ê–ù–¨–û–ù–´ -->
        <div class="page" id="page-companions" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">‚Üê</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">üë• –ú–æ–∏ –∫–æ–º–ø–∞–Ω—å–æ–Ω—ã</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                    <div style="background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(102, 126, 234, 0.1)); border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px 16px; cursor: pointer; height: 240px;" onclick="navigateTo('create')">
                        <div style="font-size: 3rem; color: #ff6b9d; margin-bottom: 10px;">‚≠ê</div>
                        <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–∞–Ω—å–æ–Ω–∞</h3>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; height: 240px;" onclick="openIndividualChat('–ê–Ω–Ω–∞')">
                        <div style="width: 100%; height: 150px; background: linear-gradient(45deg, #ff6b9d, #667eea); display: flex; align-items: center; justify-content: center; font-size: 3rem;">üòá</div>
                        <div style="padding: 16px;">
                            <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 4px;">–ê–Ω–Ω–∞</div>
                            <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">25 –ª–µ—Ç ‚Ä¢ –í —Å–µ—Ç–∏</div>
                        </div>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; height: 240px;" onclick="openIndividualChat('–ú–∏—è')">
                        <div style="width: 100%; height: 150px; background: linear-gradient(45deg, #ff6b9d, #667eea); display: flex; align-items: center; justify-content: center; font-size: 3rem;">üòä</div>
                        <div style="padding: 16px;">
                            <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 4px;">–ú–∏—è</div>
                            <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">23 –≥–æ–¥–∞ ‚Ä¢ –ù–µ–¥–∞–≤–Ω–æ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ß–ê–¢–û–í -->
        <div class="page" id="page-chat" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">‚Üê</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">üí¨ –ß–∞—Ç—ã</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; padding: 16px; margin-bottom: 16px; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; display: flex; align-items: center; gap: 16px;" onclick="openIndividualChat('–ê–Ω–Ω–∞')">
                    <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #ff6b9d, #667eea); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üòá</div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; margin-bottom: 4px;">–ê–Ω–Ω–∞</div>
                        <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.6);">–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? üòò</div>
                    </div>
                    <div style="color: rgba(255, 255, 255, 0.4); font-size: 0.8rem;">15:30</div>
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 16px; padding: 16px; margin-bottom: 16px; border: 1px solid rgba(255, 255, 255, 0.1); cursor: pointer; display: flex; align-items: center; gap: 16px;" onclick="openIndividualChat('–ú–∏—è')">
                    <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #ff6b9d, #667eea); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üòä</div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; margin-bottom: 4px;">–ú–∏—è</div>
                        <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.6);">–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–∞—Ä–æ–∫! üíï</div>
                    </div>
                    <div style="color: rgba(255, 255, 255, 0.4); font-size: 0.8rem;">14:45</div>
                </div>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ì–ï–ù–ï–†–ê–¶–ò–ò -->
        <div class="page" id="page-generate" style="display: none;">
            <div style="padding: 20px 16px; text-align: center; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; position: relative;">
                <button style="position: absolute; left: 16px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('home')">‚Üê</button>
                <h1 style="flex: 1; font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff6b9d, #667eea); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ</h1>
            </div>
            <div style="padding: 20px 16px; padding-bottom: 100px;">
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1); text-align: center;">
                    <div style="font-size: 3rem; color: #ff6b9d; margin-bottom: 16px;">üé®</div>
                    <h3>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è AI-—Ñ–æ—Ç–æ</h3>
                    <p style="color: rgba(255,255,255,0.6); margin: 16px 0;">–°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ –≤–∞—à–∏—Ö –∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é –ò–ò</p>
                    <button style="width: 100%; padding: 16px; background: linear-gradient(135deg, #f093fb, #667eea); border: none; border-radius: 16px; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px;" onclick="generatePhoto()">üíé –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞ 25 –∑–≤–µ–∑–¥</button>
                </div>
                <div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border-radius: 20px; padding: 24px; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="margin-bottom: 15px;">üõí –ü–∞–∫–µ—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h3>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>5 —Ñ–æ—Ç–æ</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">100‚≠ê</button>
                    </div>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>20 —Ñ–æ—Ç–æ</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">350‚≠ê</button>
                    </div>
                    <div style="margin-bottom: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; display: flex; justify-content: space-between; align-items: center;">
                        <span>50 —Ñ–æ—Ç–æ</span>
                        <button style="padding: 8px 16px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 8px; color: white; cursor: pointer;">750‚≠ê</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ò–ù–î–ò–í–ò–î–£–ê–õ–¨–ù–´–ô –ß–ê–¢ -->
        <div class="page" id="page-individual-chat" style="display: none;">
            <div style="padding: 16px; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); display: flex; align-items: center; gap: 12px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <button style="background: rgba(255, 255, 255, 0.1); border: none; border-radius: 12px; color: white; padding: 8px 12px; cursor: pointer;" onclick="navigateTo('chat')">‚Üê</button>
                <div style="width: 40px; height: 40px; background: linear-gradient(45deg, #ff6b9d, #667eea); border-radius: 50%; display: flex; align-items: center; justify-content: center;" id="chatAvatar">üòá</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold;" id="chatName">–ê–Ω–Ω–∞</div>
                    <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">–í —Å–µ—Ç–∏</div>
                </div>
            </div>
            <div style="flex: 1; padding: 16px; overflow-y: auto; padding-bottom: 80px;" id="chatMessages">
                <div style="background: rgba(255, 255, 255, 0.1); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%; margin-left: auto;">
                    –ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? üòä
                </div>
                <div style="background: linear-gradient(135deg, #ff6b9d, #667eea); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%;">
                    –ü—Ä–∏–≤–µ—Ç! –û—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ! –ê —É —Ç–µ–±—è –∫–∞–∫? üíï
                </div>
            </div>
            <div style="position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 420px; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(20px); padding: 16px; display: flex; gap: 12px;">
                <input type="text" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; padding: 12px 16px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 20px; color: white;" id="messageInput">
                <button style="width: 44px; height: 44px; background: linear-gradient(135deg, #ff6b9d, #667eea); border: none; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center;" onclick="sendMessage()">‚Üí</button>
            </div>
        </div>

        <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø (–∏–∑ v0) -->
        <nav class="nav">
            <a href="#" class="nav-item active" onclick="navigateTo('home')">
                <div class="nav-icon">üè†</div>
                <span>–î–æ–º–æ–π</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('chat')">
                <div class="nav-icon">üí¨</div>
                <span>–ß–∞—Ç</span>
            </a>
            <a href="#" class="nav-item create" onclick="navigateTo('create')">
                <div class="nav-icon">‚≠ê</div>
                <span>–°–æ–∑–¥–∞—Ç—å</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('generate')">
                <div class="nav-icon">üé®</div>
                <span>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</span>
            </a>
            <a href="#" class="nav-item" onclick="navigateTo('companions')">
                <div class="nav-icon">üë•</div>
                <span>–ú–æ–∏</span>
            </a>
        </nav>
    </div>

    <script>
        // –î–ê–ù–ù–´–ï –∏–∑ v0
        const chars = [
            { emoji: "üòá", name: "–õ–∏–ª–∞", age: 22, personality: "–ú–∏–ª–∞—è –∏ –Ω–µ–≤–∏–Ω–Ω–∞—è" },
            { emoji: "üòà", name: "–†–æ–∫—Å–∏", age: 24, personality: "–î–µ—Ä–∑–∫–∞—è –∏ –∏–≥—Ä–∏–≤–∞—è" },
            { emoji: "üß†", name: "–≠–ª–∞—Ä–∞", age: 26, personality: "–£–º–Ω–∞—è –∏ –∑–∞–≥–∞–¥–æ—á–Ω–∞—è" },
            { emoji: "üé®", name: "–•–ª–æ—è", age: 21, personality: "–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –∏ –º–µ—á—Ç–∞—Ç–µ–ª—å–Ω–∞—è" },
            { emoji: "üî•", name: "–°–µ—Ä–∞—Ñ–∏–Ω–∞", age: 25, personality: "–°—Ç—Ä–∞—Å—Ç–Ω–∞—è –∏ —É–≤–µ—Ä–µ–Ω–Ω–∞—è" },
            { emoji: "üòä", name: "–ú–∏—è", age: 23, personality: "–î–æ–±—Ä–∞—è –∏ –∑–∞–±–æ—Ç–ª–∏–≤–∞—è" }
        ];

        const catalog = [
            { name: "–õ–∏–ª–∞", age: 18, tag: "–ê–Ω–∏–º–µ" },
            { name: "–ê—Ä–∏—è", age: 25, tag: "–ê–Ω–∏–º–µ" },
            { name: "–°–µ—Ä–µ–Ω–∞", age: 28, tag: "–†–µ–∞–ª—å–Ω—ã–π" },
            { name: "–•–ª–æ—è", age: 24, tag: "–†–µ–∞–ª—å–Ω—ã–π" }
        ];

        let currentIndex = 0;

        // TELEGRAM
        if (window.Telegram?.WebApp) {
            window.Telegram.WebApp.ready();
            console.log('üì± Telegram Web App –≥–æ—Ç–æ–≤');
        }

        // –°–û–ó–î–ê–ù–ò–ï –ö–ê–†–£–°–ï–õ–ò (–∞–¥–∞–ø—Ç–∞—Ü–∏—è v0 –ª–æ–≥–∏–∫–∏)
        function createCarousel() {
            const carousel = document.getElementById('carousel');
            const angle = 360 / chars.length;

            chars.forEach((char, i) => {
                const card = document.createElement('div');
                card.className = `card ${i === 0 ? 'active' : ''}`;
                card.style.transform = `rotateY(${i * angle}deg) translateZ(200px)`;
                
                card.innerHTML = `
                    <div class="card-img">${char.emoji}</div>
                    <div class="card-overlay"></div>
                    <div class="card-info">
                        <div style="font-size: 1.5rem;">${char.emoji}</div>
                        <div style="font-weight: bold; font-size: 1.25rem;">${char.name} <span style="font-weight: 300;">${char.age}</span></div>
                        <div style="font-size: 0.75rem; color: rgba(255,255,255,0.7); margin-top: 4px;">${char.personality}</div>
                    </div>
                `;
                
                card.onclick = () => selectChar(char);
                carousel.appendChild(card);
            });

            // –ê–≤—Ç–æ–≤—Ä–∞—â–µ–Ω–∏–µ –∫–∞–∫ –≤ v0
            setInterval(() => {
                currentIndex = (currentIndex + 1) % chars.length;
                rotateCarousel();
            }, 3000);
        }

        function rotateCarousel() {
            const carousel = document.getElementById('carousel');
            const angle = 360 / chars.length;
            carousel.style.transform = `rotateY(${-currentIndex * angle}deg)`;
            
            document.querySelectorAll('.card').forEach((card, i) => {
                card.classList.toggle('active', i === currentIndex);
            });
        }

        // –°–û–ó–î–ê–ù–ò–ï –ö–ê–¢–ê–õ–û–ì–ê (–∞–¥–∞–ø—Ç–∞—Ü–∏—è v0)
        function createCatalog() {
            const grid = document.getElementById('grid');
            
            // –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
            const createCard = document.createElement('div');
            createCard.className = 'catalog-card create-card';
            createCard.innerHTML = `
                <div style="font-size: 3rem; color: #ff6b9d;">‚≠ê</div>
                <h3 style="font-weight: bold; margin-top: 8px;">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞</h3>
            `;
            createCard.onclick = () => navigateTo('create');
            grid.appendChild(createCard);

            // –ü–µ—Ä—Å–æ–Ω–∞–∂–∏
            catalog.forEach(char => {
                const card = document.createElement('div');
                card.className = 'catalog-card';
                card.setAttribute('data-tag', char.tag.toLowerCase());
                
                card.innerHTML = `
                    <div style="width: 100%; height: 100%; background: linear-gradient(45deg, #ff6b9d, #667eea); display: flex; align-items: center; justify-content: center; font-size: 2rem;">üë§</div>
                    <div style="position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);"></div>
                    <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.3); backdrop-filter: blur(10px); color: white; font-size: 0.75rem; padding: 4px 8px; border-radius: 12px;">${char.tag}</div>
                    <div style="position: absolute; bottom: 8px; left: 8px; color: white; font-weight: bold;">${char.name} ${char.age}</div>
                `;
                
                card.onclick = () => selectChar(char);
                grid.appendChild(card);
            });
        }

        // –§–ò–õ–¨–¢–†–ê–¶–ò–Ø (–∏–∑ v0)
        function filterChars(filter) {
            document.querySelectorAll('.filter').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.catalog-card').forEach(card => {
                if (card.classList.contains('create-card')) {
                    card.style.display = 'flex';
                    return;
                }

                const tag = card.getAttribute('data-tag');
                if (filter === 'all' || 
                    (filter === 'real' && tag === '—Ä–µ–∞–ª—å–Ω—ã–π') || 
                    (filter === 'anime' && tag === '–∞–Ω–∏–º–µ')) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // –ù–ê–í–ò–ì–ê–¶–ò–Ø –ú–ï–ñ–î–£ –°–¢–†–ê–ù–ò–¶–ê–ú–ò
        function navigateTo(page) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
            document.getElementById('home-content').style.display = 'none';
            
            // –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            if (page === 'home') {
                document.getElementById('home-content').style.display = 'block';
                document.querySelector('.nav-item[onclick="navigateTo(\'home\')"]').classList.add('active');
            } else {
                document.getElementById(`page-${page}`).style.display = 'flex';
                document.querySelector(`.nav-item[onclick="navigateTo('${page}')"]`).classList.add('active');
            }
            
            // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'navigate',
                    page: page
                }));
            }
            
            console.log('üî• –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞:', page);
        }

        // –°–û–ó–î–ê–ù–ò–ï –ö–ê–°–¢–û–ú–ù–û–ì–û –ö–û–ú–ü–ê–ù–¨–û–ù–ê
        function toggleCreateTag(element) {
            element.classList.toggle('selected');
        }

        function uploadPhoto() {
            alert('üì∑ –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–æ—Ç–æ–º!');
        }

        function createCustomCompanion() {
            const name = document.getElementById('companionNameCreate').value || '–ê–Ω–Ω–∞';
            const age = document.getElementById('companionAgeCreate').value || '25';
            const personality = Array.from(document.querySelectorAll('#page-create .tag.selected')).map(tag => tag.textContent);
            
            const companionData = {
                name: name,
                age: age,
                personality: personality
            };
            
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'create_custom_companion',
                    data: companionData
                }));
            }
            
            alert(`üéâ –ö–æ–º–ø–∞–Ω—å–æ–Ω "${name}" —Å–æ–∑–¥–∞–Ω! –í–æ–∑—Ä–∞—Å—Ç: ${age}, —Ö–∞—Ä–∞–∫—Ç–µ—Ä: ${personality.join(', ') || '–ó–∞–≥–∞–¥–æ—á–Ω–∞—è'}`);
            navigateTo('companions');
            console.log('üé® –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–∞–Ω—å–æ–Ω:', companionData);
        }

        // –ò–ù–î–ò–í–ò–î–£–ê–õ–¨–ù–´–ô –ß–ê–¢
        function openIndividualChat(name) {
            document.getElementById('chatName').textContent = name;
            document.getElementById('chatAvatar').textContent = name === '–ê–Ω–Ω–∞' ? 'üòá' : 'üòä';
            navigateTo('individual-chat');
            
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'open_individual_chat',
                    companion: name
                }));
            }
            
            console.log('üí¨ –û—Ç–∫—Ä—ã—Ç —á–∞—Ç —Å:', name);
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (!message) return;
            
            // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
            const messagesContainer = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.style.cssText = 'background: rgba(255, 255, 255, 0.1); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%; margin-left: auto;';
            messageElement.textContent = message;
            messagesContainer.appendChild(messageElement);
            
            // –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ
            input.value = '';
            
            // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –±–æ—Ç
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'send_message',
                    message: message,
                    companion: document.getElementById('chatName').textContent
                }));
            }
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            setTimeout(() => {
                const responseElement = document.createElement('div');
                responseElement.style.cssText = 'background: linear-gradient(135deg, #ff6b9d, #667eea); padding: 12px 16px; border-radius: 16px; margin-bottom: 12px; max-width: 80%;';
                responseElement.textContent = '–°–ø–∞—Å–∏–±–æ –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ! üíï (–æ—Ç–≤–µ—Ç –æ—Ç –ò–ò –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–æ—Ç–æ–º)';
                messagesContainer.appendChild(responseElement);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
            
            console.log('üì® –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:', message);
        }

        // –ì–ï–ù–ï–†–ê–¶–ò–Ø –§–û–¢–û
        function generatePhoto() {
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'generate_photo'
                }));
            }
            
            alert('üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ò–ò!');
            console.log('üé® –ó–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ñ–æ—Ç–æ');
        }

        // –í–´–ë–û–† –ü–ï–†–°–û–ù–ê–ñ–ê
        function selectChar(char) {
            if (window.Telegram?.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'select_character',
                    character: char.name,
                    age: char.age,
                    personality: char.personality || char.tag
                }));
            }
            console.log('üë§ –í—ã–±—Ä–∞–Ω:', char.name);
        }

        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        document.addEventListener('DOMContentLoaded', function() {
            createCarousel();
            createCatalog();
            console.log('üöÄ Peach Web App –∑–∞–≥—Ä—É–∂–µ–Ω (v0 –¥–∏–∑–∞–π–Ω –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω)');
        });
    </script>
</body>
</html>