# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–æ—Ç–∞ —Å WebApp - –ó–∞ 5 –º–∏–Ω—É—Ç!

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/app` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±–æ—Ç
‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/start` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å web_app –∫–Ω–æ–ø–∫–æ–π
‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `WEBAPP_URL` —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ `.env`
‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ

---

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª

```bash
cd /Users/egor/Desktop/peach-mini
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
WEBAPP_URL=http://localhost:5173
ADMIN_ID=–≤–∞—à_telegram_id
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (`Ctrl+O`, `Enter`, `Ctrl+X`)

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ WebApp

```bash
cd /Users/egor/Desktop/peach-mini/vite-project
npm run dev
```

WebApp –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:5173

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
cd /Users/egor/Desktop/peach-mini/bot
node index.cjs
```

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ Bot –∑–∞–ø—É—Å—Ç–∏–ª—Å—è ‚Äî –≥–æ—Ç–æ–≤ –∫ –æ–±—â–µ–Ω–∏—é —Å –¥–µ–≤—É—à–∫–∞–º–∏!
‚úÖ –ú–µ–Ω—é –∫–æ–º–∞–Ω–¥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
```

---

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram**
   
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`**
   - ‚úÖ –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üöÄ –û—Ç–∫—Ä—ã—Ç—å Peachmini"
   
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/app`**
   - ‚úÖ –ü–æ—è–≤–∏—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å web_app –∫–Ω–æ–ø–∫–æ–π

4. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É**
   - ‚ö†Ô∏è –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `localhost:5173`, WebApp –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–∫—Ä—ã—Ç—å—Å—è (–Ω—É–∂–µ–Ω HTTPS)
   - ‚úÖ –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok (—Å–º. –Ω–∏–∂–µ)

---

## üåê –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—á–µ—Ä–µ–∑ ngrok)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok:
```bash
# macOS
brew install ngrok

# –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ WebApp:
```bash
cd /Users/egor/Desktop/peach-mini/vite-project
npm run dev
```

### 3. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:
```bash
ngrok http 5173
```

### 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL:
```
Forwarding  https://xxxx-xx-xx-xxx.ngrok-free.app -> http://localhost:5173
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
             –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç URL
```

### 5. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:
```env
WEBAPP_URL=https://xxxx-xx-xx-xxx.ngrok-free.app
```

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
# Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±–æ—Ç–∞, –∑–∞—Ç–µ–º:
node index.cjs
```

### 7. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!
–¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ –æ—Ç–∫—Ä–æ–µ—Ç WebApp —á–µ—Ä–µ–∑ ngrok URL ‚úÖ

---

## üì± –î–ª—è production (–¥–µ–ø–ª–æ–π)

### 1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ WebApp:

**Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**:
```bash
cd /Users/egor/Desktop/peach-mini/vite-project
npm run build
vercel
```

**Netlify**:
```bash
npm run build
netlify deploy --prod --dir=dist
```

### 2. –ü–æ–ª—É—á–∏—Ç–µ URL –¥–µ–ø–ª–æ—è:
```
‚úÖ Production: https://your-app.vercel.app
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:
```env
WEBAPP_URL=https://your-app.vercel.app
```

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

## üé® –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥

### –í `bot/index.cjs`:

#### 1. –ö–æ–º–∞–Ω–¥–∞ `/app` (—Å—Ç—Ä–æ–∫–∏ 545-563):
```javascript
bot.command('app', async ctx => {
  const webappUrl = process.env.WEBAPP_URL || 'http://localhost:5173';
  await ctx.reply(
    `üöÄ –û–¢–ö–†–´–¢–¨ PEACHMINI WEB APP\n\n...`,
    Markup.keyboard([
      [Markup.button.webApp('üöÄ –û—Ç–∫—Ä—ã—Ç—å Peachmini', webappUrl)],
      ['üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é']
    ]).resize()
  );
});
```

#### 2. –û–±–Ω–æ–≤–ª—ë–Ω `/start` (—Å—Ç—Ä–æ–∫–∞ 606):
```javascript
const menuButtons = [
  [Markup.button.webApp('üöÄ –û—Ç–∫—Ä—ã—Ç—å Peachmini', webappUrl)], // ‚Üê –ù–û–í–ê–Ø
  ['üéÅ –î–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞', 'üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π'],
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
];
```

#### 3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ "–ù–∞–∑–∞–¥" (—Å—Ç—Ä–æ–∫–∏ 1317-1340):
```javascript
if (message === 'üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é') {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
}
```

#### 4. –ú–µ–Ω—é –∫–æ–º–∞–Ω–¥ (—Å—Ç—Ä–æ–∫–∞ 1511):
```javascript
{ command: 'app', description: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å Peachmini (Web App)' },
```

---

## üìä –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –í Telegram –±–æ—Ç–µ:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/app` | –û—Ç–∫—Ä—ã—Ç—å WebApp —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É |
| `/start` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (—Å –∫–Ω–æ–ø–∫–æ–π WebApp) |
| –ö–Ω–æ–ø–∫–∞ "üöÄ –û—Ç–∫—Ä—ã—Ç—å Peachmini" | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç WebApp |
| –ö–Ω–æ–ø–∫–∞ "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é" | –í–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é |

---

## ‚ùì Troubleshooting

### WebApp –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `WEBAPP_URL` –≤ `.env` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://`
- ‚úÖ –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_TOKEN` –≤ `.env`
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `bot/index.cjs` (—Å—Ç—Ä–æ–∫–∞ 4): `require('dotenv').config({ path: '../.env' })`

### –ö–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É —Å–Ω–æ–≤–∞
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Telegraf (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å v4.x)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `CHANGES-SUMMARY.md` - –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `TELEGRAM-BOT-WEBAPP-INTEGRATION.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `ENV-SETUP.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ .env
- `vite-project/START-HERE.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WebApp

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à –±–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å WebApp!

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: WebApp
cd vite-project && npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ë–æ—Ç
cd bot && node index.cjs

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
ngrok http 5173
```

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ —Å ngrok
2. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ WebApp –Ω–∞ Vercel/Netlify
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ `WEBAPP_URL` –≤ `.env`
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

Made with üíú for Telegram Mini Apps

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å!** üöÄ

